"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/(app)/chat/page",{

/***/ "(app-pages-browser)/./hooks/useSSEChat.ts":
/*!*****************************!*\
  !*** ./hooks/useSSEChat.ts ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useSSEChat: () => (/* binding */ useSSEChat)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _stores_chat_store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/stores/chat.store */ \"(app-pages-browser)/./stores/chat.store.ts\");\n/* harmony import */ var _api_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/api/client */ \"(app-pages-browser)/./api/client.ts\");\n/* __next_internal_client_entry_do_not_use__ useSSEChat auto */ \n\n\nfunction useSSEChat() {\n    const { appendStreamToken, setIsStreaming, clearStream, addMessage, addConversation, setActiveConversation, activeConversationId } = (0,_stores_chat_store__WEBPACK_IMPORTED_MODULE_1__.useChatStore)();\n    const sendMessage = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useSSEChat.useCallback[sendMessage]\": async (content, conversationId)=>{\n            if (!content.trim()) return;\n            setIsStreaming(true);\n            clearStream();\n            var _ref;\n            const convId = (_ref = conversationId !== null && conversationId !== void 0 ? conversationId : activeConversationId) !== null && _ref !== void 0 ? _ref : undefined;\n            // Optimistic user message\n            const tempUserMsg = {\n                message_id: \"temp_\".concat(Date.now()),\n                conversation_id: convId !== null && convId !== void 0 ? convId : '',\n                role: 'user',\n                content,\n                model_used: null,\n                timestamp: new Date().toISOString()\n            };\n            if (convId) {\n                addMessage(convId, tempUserMsg);\n            }\n            try {\n                var _response_body;\n                const response = await _api_client__WEBPACK_IMPORTED_MODULE_2__.apiClient.postStream('/chat', {\n                    message: content,\n                    conversation_id: convId !== null && convId !== void 0 ? convId : null,\n                    knowledge_tier: 'ephemeral'\n                });\n                if (!response.ok) {\n                    throw new Error(\"HTTP \".concat(response.status));\n                }\n                const reader = (_response_body = response.body) === null || _response_body === void 0 ? void 0 : _response_body.getReader();\n                if (!reader) throw new Error('No response body');\n                const decoder = new TextDecoder();\n                let buffer = '';\n                let readCount = 0;\n                let tokenCallCount = 0;\n                while(true){\n                    const { done, value } = await reader.read();\n                    if (done) break;\n                    readCount += 1;\n                    buffer += decoder.decode(value, {\n                        stream: true\n                    });\n                    const lines = buffer.split('\\n');\n                    const dataLineCount = lines.filter({\n                        \"useSSEChat.useCallback[sendMessage]\": (l)=>l.startsWith('data: ')\n                    }[\"useSSEChat.useCallback[sendMessage]\"]).length;\n                    // #region agent log\n                    if (readCount <= 5) {\n                        var _value_length;\n                        fetch('http://127.0.0.1:7929/ingest/6026755c-ae81-4029-a82a-a624c11acdcf', {\n                            method: 'POST',\n                            headers: {\n                                'Content-Type': 'application/json',\n                                'X-Debug-Session-Id': '29b62c'\n                            },\n                            body: JSON.stringify({\n                                sessionId: '29b62c',\n                                hypothesisId: 'C',\n                                location: 'useSSEChat.ts:chunk',\n                                message: 'chunk_received',\n                                data: {\n                                    readCount,\n                                    chunkByteLen: (_value_length = value === null || value === void 0 ? void 0 : value.length) !== null && _value_length !== void 0 ? _value_length : 0,\n                                    dataLineCount\n                                },\n                                timestamp: Date.now()\n                            })\n                        }).catch({\n                            \"useSSEChat.useCallback[sendMessage]\": ()=>{}\n                        }[\"useSSEChat.useCallback[sendMessage]\"]);\n                    }\n                    var _lines_pop;\n                    // #endregion\n                    buffer = (_lines_pop = lines.pop()) !== null && _lines_pop !== void 0 ? _lines_pop : '';\n                    for (const line of lines){\n                        if (!line.startsWith('data: ')) continue;\n                        const raw = line.slice(6).trim();\n                        if (!raw) continue;\n                        try {\n                            const event = JSON.parse(raw);\n                            if (event.type === 'token') {\n                                tokenCallCount += 1;\n                                // #region agent log\n                                if (tokenCallCount === 1 || tokenCallCount === 10) {\n                                    fetch('http://127.0.0.1:7929/ingest/6026755c-ae81-4029-a82a-a624c11acdcf', {\n                                        method: 'POST',\n                                        headers: {\n                                            'Content-Type': 'application/json',\n                                            'X-Debug-Session-Id': '29b62c'\n                                        },\n                                        body: JSON.stringify({\n                                            sessionId: '29b62c',\n                                            hypothesisId: 'D',\n                                            location: 'useSSEChat.ts:appendToken',\n                                            message: 'append_stream_token',\n                                            data: {\n                                                tokenCallCount,\n                                                ts: Date.now()\n                                            },\n                                            timestamp: Date.now()\n                                        })\n                                    }).catch({\n                                        \"useSSEChat.useCallback[sendMessage]\": ()=>{}\n                                    }[\"useSSEChat.useCallback[sendMessage]\"]);\n                                }\n                                // #endregion\n                                appendStreamToken(event.content);\n                            } else if (event.type === 'done') {\n                                setActiveConversation(event.conversation_id);\n                                const newConv = {\n                                    conversation_id: event.conversation_id,\n                                    title: content.slice(0, 50),\n                                    knowledge_tier: 'ephemeral',\n                                    started_at: new Date().toISOString(),\n                                    last_active: new Date().toISOString()\n                                };\n                                addConversation(newConv);\n                                if (!convId) {\n                                    addMessage(event.conversation_id, {\n                                        ...tempUserMsg,\n                                        conversation_id: event.conversation_id\n                                    });\n                                }\n                                const assistantMsg = {\n                                    message_id: \"msg_\".concat(Date.now()),\n                                    conversation_id: event.conversation_id,\n                                    role: 'assistant',\n                                    content: _stores_chat_store__WEBPACK_IMPORTED_MODULE_1__.useChatStore.getState().streamingContent,\n                                    model_used: event.model,\n                                    timestamp: new Date().toISOString()\n                                };\n                                addMessage(event.conversation_id, assistantMsg);\n                            } else if (event.type === 'error') {\n                                console.error('Stream error:', event.content);\n                            }\n                        } catch (e) {\n                        // skip malformed SSE lines\n                        }\n                    }\n                }\n            } catch (err) {\n                console.error('Chat error:', err);\n            } finally{\n                setIsStreaming(false);\n            }\n        }\n    }[\"useSSEChat.useCallback[sendMessage]\"], [\n        appendStreamToken,\n        setIsStreaming,\n        clearStream,\n        addMessage,\n        addConversation,\n        setActiveConversation,\n        activeConversationId\n    ]);\n    return {\n        sendMessage\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFBaUIrQyxNQUFNL0MsZUFBZTtvQ0FDeEM7Z0NBQ0Y7Z0NBRUEsTUFBTXVELGVBQXdCO29DQUM1QjFELFlBQVksT0FBa0IsT0FBWEMsS0FBS0MsR0FBRztvQ0FDM0JDLGlCQUFpQitDLE1BQU0vQyxlQUFlO29DQUN0Q0MsTUFBTTtvQ0FDTlYsU0FBU1gsNERBQVlBLENBQUM0RSxRQUFRLEdBQUdDLGdCQUFnQjtvQ0FDakR2RCxZQUFZNkMsTUFBTVcsS0FBSztvQ0FDdkJ2RCxXQUFXLElBQUlMLE9BQU9NLFdBQVc7Z0NBQ25DO2dDQUNBbEIsV0FBVzZELE1BQU0vQyxlQUFlLEVBQUV1RDs0QkFDcEMsT0FBTyxJQUFJUixNQUFNRSxJQUFJLEtBQUssU0FBUztnQ0FDakNVLFFBQVFDLEtBQUssQ0FBQyxpQkFBaUJiLE1BQU14RCxPQUFPOzRCQUM5Qzt3QkFDRixFQUFFLFVBQU07d0JBQ04sMkJBQTJCO3dCQUM3QjtvQkFDRjtnQkFDRjtZQUNGLEVBQUUsT0FBT3NFLEtBQUs7Z0JBQ1pGLFFBQVFDLEtBQUssQ0FBQyxlQUFlQztZQUMvQixTQUFVO2dCQUNSN0UsZUFBZTtZQUNqQjtRQUNGOzhDQUNBO1FBQ0VEO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO1FBQ0FDO0tBQ0Q7SUFHSCxPQUFPO1FBQUVDO0lBQVk7QUFDdkIiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcbWlub29cXERvY3VtZW50c1xcQ29kZVxcYXRoZW5hXFxmcm9udGVuZFxcaG9va3NcXHVzZVNTRUNoYXQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xyXG5cclxuaW1wb3J0IHsgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IHVzZUNoYXRTdG9yZSB9IGZyb20gJ0Avc3RvcmVzL2NoYXQuc3RvcmUnO1xyXG5pbXBvcnQgeyBhcGlDbGllbnQgfSBmcm9tICdAL2FwaS9jbGllbnQnO1xyXG5pbXBvcnQgdHlwZSB7IFN0cmVhbUV2ZW50LCBNZXNzYWdlLCBDb252ZXJzYXRpb24gfSBmcm9tICdAL3R5cGVzJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VTU0VDaGF0KCkge1xyXG4gIGNvbnN0IHtcclxuICAgIGFwcGVuZFN0cmVhbVRva2VuLFxyXG4gICAgc2V0SXNTdHJlYW1pbmcsXHJcbiAgICBjbGVhclN0cmVhbSxcclxuICAgIGFkZE1lc3NhZ2UsXHJcbiAgICBhZGRDb252ZXJzYXRpb24sXHJcbiAgICBzZXRBY3RpdmVDb252ZXJzYXRpb24sXHJcbiAgICBhY3RpdmVDb252ZXJzYXRpb25JZCxcclxuICB9ID0gdXNlQ2hhdFN0b3JlKCk7XHJcblxyXG4gIGNvbnN0IHNlbmRNZXNzYWdlID0gdXNlQ2FsbGJhY2soXHJcbiAgICBhc3luYyAoY29udGVudDogc3RyaW5nLCBjb252ZXJzYXRpb25JZD86IHN0cmluZykgPT4ge1xyXG4gICAgICBpZiAoIWNvbnRlbnQudHJpbSgpKSByZXR1cm47XHJcblxyXG4gICAgICBzZXRJc1N0cmVhbWluZyh0cnVlKTtcclxuICAgICAgY2xlYXJTdHJlYW0oKTtcclxuXHJcbiAgICAgIGNvbnN0IGNvbnZJZCA9IGNvbnZlcnNhdGlvbklkID8/IGFjdGl2ZUNvbnZlcnNhdGlvbklkID8/IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgIC8vIE9wdGltaXN0aWMgdXNlciBtZXNzYWdlXHJcbiAgICAgIGNvbnN0IHRlbXBVc2VyTXNnOiBNZXNzYWdlID0ge1xyXG4gICAgICAgIG1lc3NhZ2VfaWQ6IGB0ZW1wXyR7RGF0ZS5ub3coKX1gLFxyXG4gICAgICAgIGNvbnZlcnNhdGlvbl9pZDogY29udklkID8/ICcnLFxyXG4gICAgICAgIHJvbGU6ICd1c2VyJyxcclxuICAgICAgICBjb250ZW50LFxyXG4gICAgICAgIG1vZGVsX3VzZWQ6IG51bGwsXHJcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBpZiAoY29udklkKSB7XHJcbiAgICAgICAgYWRkTWVzc2FnZShjb252SWQsIHRlbXBVc2VyTXNnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaUNsaWVudC5wb3N0U3RyZWFtKCcvY2hhdCcsIHtcclxuICAgICAgICAgIG1lc3NhZ2U6IGNvbnRlbnQsXHJcbiAgICAgICAgICBjb252ZXJzYXRpb25faWQ6IGNvbnZJZCA/PyBudWxsLFxyXG4gICAgICAgICAga25vd2xlZGdlX3RpZXI6ICdlcGhlbWVyYWwnLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgJHtyZXNwb25zZS5zdGF0dXN9YCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCByZWFkZXIgPSByZXNwb25zZS5ib2R5Py5nZXRSZWFkZXIoKTtcclxuICAgICAgICBpZiAoIXJlYWRlcikgdGhyb3cgbmV3IEVycm9yKCdObyByZXNwb25zZSBib2R5Jyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGRlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoKTtcclxuICAgICAgICBsZXQgYnVmZmVyID0gJyc7XHJcbiAgICAgICAgbGV0IHJlYWRDb3VudCA9IDA7XHJcbiAgICAgICAgbGV0IHRva2VuQ2FsbENvdW50ID0gMDtcclxuXHJcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICAgIGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XHJcbiAgICAgICAgICBpZiAoZG9uZSkgYnJlYWs7XHJcblxyXG4gICAgICAgICAgcmVhZENvdW50ICs9IDE7XHJcbiAgICAgICAgICBidWZmZXIgKz0gZGVjb2Rlci5kZWNvZGUodmFsdWUsIHsgc3RyZWFtOiB0cnVlIH0pO1xyXG4gICAgICAgICAgY29uc3QgbGluZXMgPSBidWZmZXIuc3BsaXQoJ1xcbicpO1xyXG4gICAgICAgICAgY29uc3QgZGF0YUxpbmVDb3VudCA9IGxpbmVzLmZpbHRlcigobCkgPT4gbC5zdGFydHNXaXRoKCdkYXRhOiAnKSkubGVuZ3RoO1xyXG4gICAgICAgICAgLy8gI3JlZ2lvbiBhZ2VudCBsb2dcclxuICAgICAgICAgIGlmIChyZWFkQ291bnQgPD0gNSkge1xyXG4gICAgICAgICAgICBmZXRjaCgnaHR0cDovLzEyNy4wLjAuMTo3OTI5L2luZ2VzdC82MDI2NzU1Yy1hZTgxLTQwMjktYTgyYS1hNjI0YzExYWNkY2YnLCB7IG1ldGhvZDogJ1BPU1QnLCBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsICdYLURlYnVnLVNlc3Npb24tSWQnOiAnMjliNjJjJyB9LCBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHNlc3Npb25JZDogJzI5YjYyYycsIGh5cG90aGVzaXNJZDogJ0MnLCBsb2NhdGlvbjogJ3VzZVNTRUNoYXQudHM6Y2h1bmsnLCBtZXNzYWdlOiAnY2h1bmtfcmVjZWl2ZWQnLCBkYXRhOiB7IHJlYWRDb3VudCwgY2h1bmtCeXRlTGVuOiB2YWx1ZT8ubGVuZ3RoID8/IDAsIGRhdGFMaW5lQ291bnQgfSwgdGltZXN0YW1wOiBEYXRlLm5vdygpIH0pIH0pLmNhdGNoKCgpID0+IHt9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC8vICNlbmRyZWdpb25cclxuICAgICAgICAgIGJ1ZmZlciA9IGxpbmVzLnBvcCgpID8/ICcnO1xyXG5cclxuICAgICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lcykge1xyXG4gICAgICAgICAgICBpZiAoIWxpbmUuc3RhcnRzV2l0aCgnZGF0YTogJykpIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICBjb25zdCByYXcgPSBsaW5lLnNsaWNlKDYpLnRyaW0oKTtcclxuICAgICAgICAgICAgaWYgKCFyYXcpIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICBjb25zdCBldmVudCA9IEpTT04ucGFyc2UocmF3KSBhcyBTdHJlYW1FdmVudDtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICd0b2tlbicpIHtcclxuICAgICAgICAgICAgICAgIHRva2VuQ2FsbENvdW50ICs9IDE7XHJcbiAgICAgICAgICAgICAgICAvLyAjcmVnaW9uIGFnZW50IGxvZ1xyXG4gICAgICAgICAgICAgICAgaWYgKHRva2VuQ2FsbENvdW50ID09PSAxIHx8IHRva2VuQ2FsbENvdW50ID09PSAxMCkge1xyXG4gICAgICAgICAgICAgICAgICBmZXRjaCgnaHR0cDovLzEyNy4wLjAuMTo3OTI5L2luZ2VzdC82MDI2NzU1Yy1hZTgxLTQwMjktYTgyYS1hNjI0YzExYWNkY2YnLCB7IG1ldGhvZDogJ1BPU1QnLCBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsICdYLURlYnVnLVNlc3Npb24tSWQnOiAnMjliNjJjJyB9LCBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHNlc3Npb25JZDogJzI5YjYyYycsIGh5cG90aGVzaXNJZDogJ0QnLCBsb2NhdGlvbjogJ3VzZVNTRUNoYXQudHM6YXBwZW5kVG9rZW4nLCBtZXNzYWdlOiAnYXBwZW5kX3N0cmVhbV90b2tlbicsIGRhdGE6IHsgdG9rZW5DYWxsQ291bnQsIHRzOiBEYXRlLm5vdygpIH0sIHRpbWVzdGFtcDogRGF0ZS5ub3coKSB9KSB9KS5jYXRjaCgoKSA9PiB7fSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyAjZW5kcmVnaW9uXHJcbiAgICAgICAgICAgICAgICBhcHBlbmRTdHJlYW1Ub2tlbihldmVudC5jb250ZW50KTtcclxuICAgICAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnR5cGUgPT09ICdkb25lJykge1xyXG4gICAgICAgICAgICAgICAgc2V0QWN0aXZlQ29udmVyc2F0aW9uKGV2ZW50LmNvbnZlcnNhdGlvbl9pZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3Q29udjogQ29udmVyc2F0aW9uID0ge1xyXG4gICAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25faWQ6IGV2ZW50LmNvbnZlcnNhdGlvbl9pZCxcclxuICAgICAgICAgICAgICAgICAgdGl0bGU6IGNvbnRlbnQuc2xpY2UoMCwgNTApLFxyXG4gICAgICAgICAgICAgICAgICBrbm93bGVkZ2VfdGllcjogJ2VwaGVtZXJhbCcsXHJcbiAgICAgICAgICAgICAgICAgIHN0YXJ0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICAgICAgICAgICAgbGFzdF9hY3RpdmU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBhZGRDb252ZXJzYXRpb24obmV3Q29udik7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFjb252SWQpIHtcclxuICAgICAgICAgICAgICAgICAgYWRkTWVzc2FnZShldmVudC5jb252ZXJzYXRpb25faWQsIHtcclxuICAgICAgICAgICAgICAgICAgICAuLi50ZW1wVXNlck1zZyxcclxuICAgICAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25faWQ6IGV2ZW50LmNvbnZlcnNhdGlvbl9pZCxcclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgYXNzaXN0YW50TXNnOiBNZXNzYWdlID0ge1xyXG4gICAgICAgICAgICAgICAgICBtZXNzYWdlX2lkOiBgbXNnXyR7RGF0ZS5ub3coKX1gLFxyXG4gICAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25faWQ6IGV2ZW50LmNvbnZlcnNhdGlvbl9pZCxcclxuICAgICAgICAgICAgICAgICAgcm9sZTogJ2Fzc2lzdGFudCcsXHJcbiAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHVzZUNoYXRTdG9yZS5nZXRTdGF0ZSgpLnN0cmVhbWluZ0NvbnRlbnQsXHJcbiAgICAgICAgICAgICAgICAgIG1vZGVsX3VzZWQ6IGV2ZW50Lm1vZGVsLFxyXG4gICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBhZGRNZXNzYWdlKGV2ZW50LmNvbnZlcnNhdGlvbl9pZCwgYXNzaXN0YW50TXNnKTtcclxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnR5cGUgPT09ICdlcnJvcicpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1N0cmVhbSBlcnJvcjonLCBldmVudC5jb250ZW50KTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gY2F0Y2gge1xyXG4gICAgICAgICAgICAgIC8vIHNraXAgbWFsZm9ybWVkIFNTRSBsaW5lc1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdDaGF0IGVycm9yOicsIGVycik7XHJcbiAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgc2V0SXNTdHJlYW1pbmcoZmFsc2UpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgW1xyXG4gICAgICBhcHBlbmRTdHJlYW1Ub2tlbixcclxuICAgICAgc2V0SXNTdHJlYW1pbmcsXHJcbiAgICAgIGNsZWFyU3RyZWFtLFxyXG4gICAgICBhZGRNZXNzYWdlLFxyXG4gICAgICBhZGRDb252ZXJzYXRpb24sXHJcbiAgICAgIHNldEFjdGl2ZUNvbnZlcnNhdGlvbixcclxuICAgICAgYWN0aXZlQ29udmVyc2F0aW9uSWQsXHJcbiAgICBdXHJcbiAgKTtcclxuXHJcbiAgcmV0dXJuIHsgc2VuZE1lc3NhZ2UgfTtcclxufVxyXG4iXSwibmFtZXMiOlsidXNlQ2FsbGJhY2siLCJ1c2VDaGF0U3RvcmUiLCJhcGlDbGllbnQiLCJ1c2VTU0VDaGF0IiwiYXBwZW5kU3RyZWFtVG9rZW4iLCJzZXRJc1N0cmVhbWluZyIsImNsZWFyU3RyZWFtIiwiYWRkTWVzc2FnZSIsImFkZENvbnZlcnNhdGlvbiIsInNldEFjdGl2ZUNvbnZlcnNhdGlvbiIsImFjdGl2ZUNvbnZlcnNhdGlvbklkIiwic2VuZE1lc3NhZ2UiLCJjb250ZW50IiwiY29udmVyc2F0aW9uSWQiLCJ0cmltIiwiY29udklkIiwidW5kZWZpbmVkIiwidGVtcFVzZXJNc2ciLCJtZXNzYWdlX2lkIiwiRGF0ZSIsIm5vdyIsImNvbnZlcnNhdGlvbl9pZCIsInJvbGUiLCJtb2RlbF91c2VkIiwidGltZXN0YW1wIiwidG9JU09TdHJpbmciLCJyZXNwb25zZSIsInBvc3RTdHJlYW0iLCJtZXNzYWdlIiwia25vd2xlZGdlX3RpZXIiLCJvayIsIkVycm9yIiwic3RhdHVzIiwicmVhZGVyIiwiYm9keSIsImdldFJlYWRlciIsImRlY29kZXIiLCJUZXh0RGVjb2RlciIsImJ1ZmZlciIsInJlYWRDb3VudCIsInRva2VuQ2FsbENvdW50IiwiZG9uZSIsInZhbHVlIiwicmVhZCIsImRlY29kZSIsInN0cmVhbSIsImxpbmVzIiwic3BsaXQiLCJkYXRhTGluZUNvdW50IiwiZmlsdGVyIiwibCIsInN0YXJ0c1dpdGgiLCJsZW5ndGgiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJKU09OIiwic3RyaW5naWZ5Iiwic2Vzc2lvbklkIiwiaHlwb3RoZXNpc0lkIiwibG9jYXRpb24iLCJkYXRhIiwiY2h1bmtCeXRlTGVuIiwiY2F0Y2giLCJwb3AiLCJsaW5lIiwicmF3Iiwic2xpY2UiLCJldmVudCIsInBhcnNlIiwidHlwZSIsInRzIiwibmV3Q29udiIsInRpdGxlIiwic3RhcnRlZF9hdCIsImxhc3RfYWN0aXZlIiwiYXNzaXN0YW50TXNnIiwiZ2V0U3RhdGUiLCJzdHJlYW1pbmdDb250ZW50IiwibW9kZWwiLCJjb25zb2xlIiwiZXJyb3IiLCJlcnIiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./hooks/useSSEChat.ts\n"));

/***/ })

});